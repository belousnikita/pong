{"version":3,"sources":["objects/Dot.js","objects/Ball.js","objects/Wave.js","objects/Paddle.js","controllers/KeypressController.js","controllers/MovementController.js","canvas.jsx","helpers/canvasDpi.js","starter.jsx","description.jsx","controls.jsx","controllers/GameController.js","index.jsx"],"names":["Dot","x","y","radius","Object","classCallCheck","this","alpha","visible","ctx","beginPath","arc","Math","PI","color","concat","strokeStyle","fillStyle","fill","c","_this$state","state","userPaddle","computerPaddle","wave","intersectsCircle","show","setAlpha","hide","ball","dist","getDistance","fieldWidth","fieldHeigth","pureWCount","wCount","floor","pureHCount","hCount","quantity","iter","params","_getIndexes","currentRow","ceil","i","j","getIndexes","pos1","pos2","sqrt","pow","_default","game","fieldHeight","id","_this","possibleConstructorReturn","getPrototypeOf","call","doubleRadius","centerX","centerY","maxX","maxY","minX","minY","speed","dx","randomDirection","dy","totalAcceleration","abs","acceleration","lineWidth","stroke","absDx","absDy","currentAcceleration","k","dt","timeFrame","accel","regulateAcceleration","setPos","activate","mirrorX","mirrorY","reset","lose","goal","circle","pos","b","userPaddleCenter","computerPaddleCenter","predict","prediction","moveComputerRight","moveComputerLeft","d","lock","setY","setDx","update","Wave","width","maxRadius","margin","active","resetRadius","w","increaseRadius","stop","Paddle","height","locked","lockTime","circleDistanceX","circleDistanceY","Keyholder","pressedKeys","e","evtObj","window","event","keyCode","func","keycode","moveUserRight","moveUserLeft","MovementController","move","moveLeft","setState","moveRight","_this$state2","_this$state3","left","right","Canvas","props","ref","React","createRef","upper","canvas","current","upperContext","getContext","dpr","devicePixelRatio","rect","getBoundingClientRect","scale","setupCanvas","_this$props","bg","blurredBg","setContext","getLayer","_this$props2","react_default","a","createElement","className","Component","Starter","startGame","style","onClick","Description","Controls","moveSwitcher","leftState","rightState","leftClass","classNames","rightClass","type","onTouchStart","onTouchMove","onMouseDown","onMouseUp","onTouchEnd","GameController","difficulty","score","user","computer","loosed","aiReaction","aiError","since","min","max","random","reaction","Pong","field","isMobile","isStarted","isLoosed","Background","staticBg","keyholder","KeypressController","tick","bind","assertThisInitialized","updateFieldDimensions","waveActivity","pointerActivity","ballActivity","Ball","makeUserMove","moveOnKeyPress","_this2","blurredRadius","blurredDotNetCreator","createNet","baseParams","calculateParams","blurredParams","createLayer","dotNetCreator","applyOnEach","createPaddle","animation","paddles","getFigure","_this3","setInterval","holdEvents","updateDots","requestAnimationFrame","clientWidth","clientHeight","animate","draw","status","direction","defineProperty","_this4","backgroundClass","started","tabIndex","onKeyDown","keyDown","onKeyUp","keyUp","description_Description","starter_Starter","src_canvas","updater","controls_Controls","rootElement","document","getElementById","ReactDOM","render","src_Pong"],"mappings":"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","file":"static/js/main.a250a21f.chunk.js","sourcesContent":["const getIndexes = (iter, wCount, hCount) => {\n\tconst currentRow = (iter / wCount) % 1 === 0 ? (iter / wCount) : Math.ceil(iter / wCount) - 1;\n\tconst i = iter + 1 > wCount ? currentRow : 0;\n\tconst total = wCount * (i + 1);\n\tconst totalRow = wCount >= hCount ? wCount : hCount;\n\tconst d = wCount > hCount ? 1 : 0;\n\tconst j = i > 0 ? totalRow - (total - iter + d + (wCount < hCount ? hCount - wCount : -(wCount - hCount))) : iter;\n\treturn { i, j };\n};\nexport default class Dot {\n\tconstructor(x, y, radius) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.radius = radius;\n\t\tthis.alpha = 1;\n\t\tthis.visible = true;\n\t}\n\tstatic pointerActivity(c) {\n\t\tconst { userPaddle, computerPaddle, wave } = this.state;\n\t\tif (userPaddle.intersectsCircle(c)\n\t\t\t|| computerPaddle.intersectsCircle(c))\n\t\t\tc.show();\n\t\telse if (wave.intersectsCircle(c)) {\n\t\t\tc.setAlpha(0.2);\n\t\t\tc.show();\n\t\t} else c.hide();\n\t}\n\tstatic waveActivity(c) {\n\t\tconst { ball } = this.state;\n\t\tconst dist = ball.getDistance(c);\n\t\tif (dist - ball.radius * 10 <= 0) {\n\t\t\tc.show();\n\t\t\tconst alpha = 0.8 - (dist / ball.radius / 10);\n\t\t\tc.setAlpha(alpha < 0.5 ? alpha : 0.5);\n\t\t} else c.hide();\n\n\t}\n\tstatic calculateParams(radius, fieldWidth, fieldHeigth) {\n\t\tconst pureWCount = fieldWidth / (radius * 2);\n\t\tconst wCount = Math.floor(pureWCount);\n\t\tconst pureHCount = fieldHeigth / (radius * 2);\n\t\tconst hCount = Math.floor(pureHCount);\n\t\treturn {\n\t\t\tpureWCount, pureHCount, wCount, hCount, quantity: hCount * wCount\n\t\t};\n\t}\n\tstatic createNet(iter, radius, params) {\n\t\tconst { hCount, wCount, pureWCount } = params;\n\t\tconst { i, j } = getIndexes(iter, wCount, hCount);\n\t\tif (i % 2 === 0 ? j % 2 === 0 : j % 2 !== 0) {\n\t\t\tconst x = (pureWCount - wCount) * radius + radius + (radius * 2 * (j));\n\t\t\tconst y = radius + (i * radius * 2);\n\t\t\treturn new Dot(x, y, radius);\n\t\t}\n\t\telse return null;\n\t}\n\tdraw(ctx) {\n\t\tconst { x, y, radius, alpha } = this;\n\t\tctx.beginPath();\n\t\tctx.arc(x, y, radius, 0, Math.PI * 2, false);\n\t\tconst color = `rgba(255, 255, 255, ${alpha})`;\n\t\tctx.strokeStyle = color;\n\t\tctx.fillStyle = color;\n\n\t\tctx.fill();\n\t\treturn this;\n\t}\n\tsetRadius(radius) {\n\t\tthis.radius = radius;\n\t\treturn this;\n\t}\n\tsetX(x) {\n\t\tthis.x = x;\n\t\treturn this;\n\t}\n\tsetY(y) {\n\t\tthis.y = y;\n\t\treturn this;\n\t}\n\tsetColor(color) {\n\t\tthis.color = color;\n\t\treturn this;\n\t}\n\thide() {\n\t\tthis.visible = false;\n\t\tthis.alpha = 1;\n\t\treturn this;\n\t}\n\tshow() {\n\t\tthis.visible = true;\n\t\treturn this;\n\t}\n\tsetAlpha(alpha) {\n\t\tthis.alpha = alpha;\n\t}\n}\n","import Dot from './Dot';\n\nconst getDistance = (pos1, pos2) =>\n\tMath.sqrt((pos1.x - pos2.x) ** 2 + (pos1.y - pos2.y) ** 2);\n\nexport default class extends Dot {\n\tconstructor(game, fieldWidth, fieldHeight, radius, id) {\n\t\tsuper(fieldWidth / 2, fieldHeight / 2, radius, 'white');\n\t\tthis.doubleRadius = radius * 2;\n\t\tthis.centerX = fieldWidth / 2;\n\t\tthis.centerY = fieldHeight / 2;\n\t\tthis.game = game;\n\t\tthis.maxX = fieldWidth - radius;\n\t\tthis.maxY = fieldHeight - radius;\n\t\tthis.minX = radius;\n\t\tthis.minY = radius;\n\t\tthis.speed = 3;\n\t\tthis.dx = this.speed * game.randomDirection();\n\t\tthis.dy = this.speed * game.randomDirection();\n\t\tthis.totalAcceleration = Math.abs(this.dx) + Math.abs(this.dy);\n\t\tthis.acceleration = 0;\n\t\tthis.id = id;\n\t}\n\tstatic ballActivity(b) {\n\t\tconst { userPaddle, computerPaddle, wave } = this.state;\n\t\tconst userPaddleCenter = userPaddle.x;\n\t\tconst computerPaddleCenter = computerPaddle.x;\n\t\tthis.game.predict(b);\n\t\tconst prediction = this.game.prediction;\n\n\t\tif (prediction) {\n\t\t\tif (computerPaddle.x + b.radius < prediction.x) {\n\t\t\t\tthis.moveComputerRight();\n\t\t\t} else if (computerPaddle.x - b.radius > prediction.x) {\n\t\t\t\tthis.moveComputerLeft();\n\t\t\t}\n\t\t}\n\t\tif (userPaddle.intersectsCircle(b)) {\n\n\t\t\tconst d = userPaddleCenter - b.x;\n\t\t\t/*********************************** \n\t\t\tif (computerPaddle.locked > 10) {\n\t\t\t\tb.reset();\n\t\t\t\tcomputerPaddle.unlock();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t*/// RESSETTING IF STUCK NOT READY YET \n\t\t\twave.setPos(b.x, b.y + b.radius);\n\t\t\twave.activate();\n\t\t\tuserPaddle.lock(10);\n\t\t\tb.setY(userPaddle.y - b.doubleRadius);\n\t\t\tb.setDx(b.dx + d * -0.1);\n\t\t\tb.mirrorY();\n\t\t}\n\t\tif (computerPaddle.intersectsCircle(b)) {\n\t\t\t/*********************************** \n\t\t\tif (computerPaddle.locked > 10) {\n\t\t\t\tb.reset();\n\t\t\t\tcomputerPaddle.unlock();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t*/// RESSETTING IF STUCK NOT READY YET \n\t\t\tconst d = computerPaddleCenter - b.x;\n\t\t\twave.setPos(b.x, b.y - b.radius);\n\t\t\twave.activate();\n\t\t\tcomputerPaddle.lock(10);\n\t\t\tb.setY(computerPaddle.y + b.doubleRadius);\n\t\t\tb.setDx(b.dx + d * -0.1);\n\t\t\tb.mirrorY();\n\t\t}\n\t\tb.update(wave);\n\t};\n\tdraw(ctx) {\n\t\tconst { x, y, radius } = this;\n\t\tctx.beginPath();\n\t\tctx.arc(x, y, radius, 0, Math.PI * 2, false);\n\t\tctx.lineWidth = 5;\n\t\tctx.strokeStyle = 'rgba(255, 255, 255, 0.8)';\n\t\tctx.fillStyle = 'rgba(255, 255, 255, 0.4)';\n\t\tctx.stroke();\n\t\tctx.fill();\n\t\treturn this;\n\t}\n\tregulateAcceleration() {\n\t\tconst absDx = Math.abs(this.dx);\n\t\tconst absDy = Math.abs(this.dy);\n\t\tconst currentAcceleration = absDx + absDy;\n\t\tif (currentAcceleration < this.totalAcceleration) {\n\t\t\tif (absDx < absDy) {\n\t\t\t\tconst k = this.totalAcceleration / currentAcceleration;\n\t\t\t\tthis.dy *= k;\n\t\t\t}\n\t\t}\n\t\telse if (currentAcceleration > this.totalAcceleration) {\n\t\t\tif (absDx > absDy) {\n\t\t\t\tthis.dx *= 0.9;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.dy *= 0.9;\n\t\t\t}\n\t\t}\n\t}\n\tupdate(wave) {\n\t\tconst dt = this.game.timeFrame / 2000;\n\t\tconst accel = dt > 1 ? dt : 1;\n\t\tthis.regulateAcceleration();\n\n\t\tthis.x = this.x + (this.dx * accel);\n\t\tthis.y = this.y + (this.dy * accel);\n\n\t\tif ((this.dx > 0) && (this.x > this.maxX)) {\n\t\t\tthis.x = this.maxX;\n\t\t\twave.setPos(this.x + this.radius, this.y);\n\t\t\twave.activate();\n\t\t\tthis.mirrorX();\n\t\t}\n\t\telse if ((this.dx < 0) && (this.x < this.minX)) {\n\t\t\tthis.x = this.minX;\n\t\t\twave.setPos(this.x - this.radius, this.y);\n\t\t\twave.activate();\n\t\t\tthis.mirrorX();\n\t\t}\n\n\t\tif ((this.dy > 0) && (this.y > this.maxY + this.radius * 4)) {\n\t\t\tthis.y = this.maxY;\n\t\t\tthis.mirrorY();\n\t\t\tthis.mirrorX();\n\t\t\tthis.reset();\n\t\t\tthis.game.lose();\n\t\t}\n\t\telse if ((this.dy < 0) && (this.y < this.minY - this.radius * 4)) {\n\t\t\tthis.y = this.minY;\n\t\t\tthis.mirrorX();\n\t\t\tthis.mirrorY();\n\t\t\tthis.reset();\n\t\t\tthis.game.goal();\n\t\t}\n\t}\n\tmirrorX() {\n\t\tthis.dx = -this.dx;\n\t}\n\tmirrorY() {\n\t\tthis.dy = -this.dy;\n\t}\n\tsetDx(dx) {\n\t\tthis.dx = dx;\n\t}\n\treset() {\n\t\tthis.x = this.centerX;\n\t\tthis.y = this.centerY;\n\t}\n\n\tintersectsCircle(circle) {\n\t\tconst pos = { x: this.x, y: this.y };\n\t\tconst dist = getDistance(pos, circle);\n\t\treturn dist - this.radius <= 0;\n\t}\n\tgetDistance(circle) {\n\t\tconst pos = { x: this.x, y: this.y };\n\t\treturn getDistance(pos, circle);\n\t}\n}","\nconst getDistance = (pos1, pos2) =>\n\tMath.sqrt((pos1.x - pos2.x) ** 2 + (pos1.y - pos2.y) ** 2);\n\nexport default class Wave {\n\tconstructor(x, y, width, maxRadius, id) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.radius = 0;\n\t\tthis.width = width;\n\t\tthis.margin = - width;\n\t\tthis.maxRadius = maxRadius;\n\t\tthis.id = id;\n\t\tthis.visible = false;\n\t\tthis.active = false;\n\t}\n\tincreaseRadius() {\n\t\tthis.radius += 2;\n\t\tthis.margin += 3.2;\n\t}\n\tstatic animation(w) {\n\t\tif (w.active) {\n\t\t\tw.increaseRadius();\n\t\t\tif (w.radius > w.maxRadius) {\n\t\t\t\tw.stop();\n\t\t\t\tw.resetRadius();\n\t\t\t}\n\t\t}\n\t}\n\tresetRadius() {\n\t\tthis.radius = 0;\n\t\tthis.margin = -this.width;\n\t}\n\tstop() {\n\t\tthis.active = false;\n\t}\n\tactivate() {\n\t\tthis.active = true;\n\t}\n\tsetPos(x, y) {\n\t\tthis.resetRadius();\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\tintersectsCircle(circle) {\n\t\tconst pos = { x: this.x, y: this.y };\n\t\tconst dist = getDistance(pos, circle);\n\t\treturn dist - this.radius <= 0 && dist > this.margin;\n\t}\n}","export default class Paddle {\n\tconstructor(x, y, width, height, speed, id) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.speed = speed;\n\t\tthis.id = id;\n\t\tthis.locked = 0;\n\t}\n\tstatic createPaddle(i, fieldWidth, fieldHeight, margin, height) {\n\t\tconst speed = fieldHeight * fieldWidth / 30000;\n\t\tif (i > 1) {\n\t\t\treturn null;\n\t\t} else return i === 0 ? new Paddle(fieldWidth / 2, fieldHeight - margin, fieldWidth / 4, height, speed, 'user') :\n\t\t\tnew Paddle(fieldWidth / 2, 0 + margin, fieldWidth / 4, height, speed, 'computer');\n\t}\n\n\tmoveRight() {\n\t\tthis.x = this.x + this.speed;\n\t}\n\tmoveLeft() {\n\t\tthis.x = this.x - this.speed;\n\t}\n\tlock(lockTime) {\n\t\tthis.locked += lockTime;\n\t}\n\ttick() {\n\t\tif (this.locked > 0) {\n\t\t\tthis.locked -= 1;\n\t\t}\n\t}\n\tunlock() {\n\t\tthis.locked = 0;\n\t}\n\tintersectsCircle(circle) {\n\t\tconst circleDistanceX = Math.abs(circle.x - this.x);\n\t\tconst circleDistanceY = Math.abs(circle.y - this.y);\n\n\t\tif (circleDistanceX > (this.width / 2 + circle.radius)) { return false; }\n\t\tif (circleDistanceY > (this.height / 2 + circle.radius)) { return false; }\n\n\t\tif (circleDistanceX <= (this.width / 2)) { return true; }\n\t\tif (circleDistanceY <= (this.height / 2)) { return true; }\n\n\t\tconst cornerDistance = ((circleDistanceX - this.width / 2) ** 2) +\n\t\t\t((circleDistanceY - this.height / 2) ** 2);\n\n\t\treturn (cornerDistance <= (circle.radius ** 2));\n\t}\n}","export default class Keyholder {\n\tconstructor() {\n\t\tthis.pressedKeys = [];\n\t}\n\tkeyDown(e) {\n\t\tconst evtObj = e || window.event;\n\t\tthis.pressedKeys[evtObj.keyCode] = 1;\n\t}\n\tkeyUp(e) {\n\t\tconst evtObj = e || window.event;\n\t\tdelete (this.pressedKeys[evtObj.keyCode]);\n\t}\n\tholdEvents(func) {\n\t\tfor (let keycode in this.pressedKeys) {\n\t\t\tfunc(keycode);\n\t\t}\n\t}\n\tstatic moveOnKeyPress(keyCode) {\n\t\tif (keyCode === '65' || keyCode === '37') {\n\t\t\tthis.moveUserLeft();\n\t\t\treturn;\n\t\t}\n\t\tif (keyCode === '68' || keyCode === '39') {\n\t\t\tthis.moveUserRight();\n\t\t\treturn;\n\t\t}\n\t\treturn;\n\t}\n}\n","export default class MovementController {\n\tstatic moveUserLeft() {\n\t\tconst { userPaddle } = this.state;\n\t\tif (userPaddle.locked <= 0) {\n\t\t\tconst { move } = this.state;\n\t\t\tif (userPaddle.x - userPaddle.width / 2 >= 0)\n\t\t\t\tuserPaddle.moveLeft();\n\t\t\telse if (move) this.setState({ move: false });\n\t\t}\n\t}\n\tstatic moveUserRight() {\n\t\tconst { userPaddle } = this.state;\n\t\tif (userPaddle.locked <= 0) {\n\t\t\tconst { width, move } = this.state;\n\t\t\tif (userPaddle.x + userPaddle.width / 2 <= width)\n\t\t\t\tuserPaddle.moveRight();\n\t\t\telse if (move) this.setState({ move: false });\n\t\t}\n\t}\n\tstatic moveComputerRight() {\n\t\tconst { computerPaddle, width } = this.state;\n\t\tif (computerPaddle.locked <= 0) {\n\t\t\tif (computerPaddle.x + computerPaddle.width / 2 <= width)\n\t\t\t\tcomputerPaddle.moveRight();\n\t\t}\n\t}\n\tstatic moveComputerLeft() {\n\t\tconst { computerPaddle } = this.state;\n\t\tif (computerPaddle.locked <= 0) {\n\t\t\tif (computerPaddle.x - computerPaddle.width / 2 >= 0)\n\t\t\t\tcomputerPaddle.moveLeft();\n\t\t}\n\t}\n\tstatic makeUserMove() {\n\t\tconst { left, right } = this.state;\n\t\tif (left && right) {\n\t\t\treturn;\n\t\t} else\n\t\tif (left) this.moveUserLeft();\n\t\tif (right) this.moveUserRight();\n\t}\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport setupCanvas from './helpers/canvasDpi';\nimport './styles/styles.css';\n\nclass Canvas extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.ref = React.createRef();\n\t\tthis.upper = React.createRef();\n\t\tconst { width, height } = props;\n\t\tthis.state = {\n\t\t\twidth, height\n\t\t};\n\t}\n\n\tcomponentDidUpdate() {\n\t\tconst canvas = this.ref.current;\n\t\tconst upper = this.upper.current;\n\t\tconst upperContext = upper.getContext('2d');\n\t\tconst ctx = setupCanvas(canvas);\n\t\tconst { bg, blurredBg } = this.props;\n\t\tif (bg && blurredBg) {\n\t\t\tbg.setContext(ctx, 'dots');\n\t\t\tblurredBg.setContext(upperContext, 'blurredDots');\n\t\t\tblurredBg.setContext(upperContext, 'backDots');\n\t\t\tblurredBg.stop('backDots');\n\t\t\tbg.setContext(ctx, 'paddles');\n\t\t\tbg.getLayer('paddles').hide();\n\t\t\tbg.setContext(ctx, 'ballLayer');\n\t\t\tbg.setContext(upperContext, 'waveLayer');\n\t\t}\n\t}\n\trender() {\n\t\tconst { width, height } = this.props;\n\t\treturn (<div>\n\t\t\t<canvas className=\"upper\" ref={this.upper} width={width} height={height} />\n\t\t\t<canvas ref={this.ref} width={width} height={height} />\n\n\t\t</div>\n\t\t);\n\t}\n}\nCanvas.propTypes = {\n\tbg: PropTypes.any,\n\tblurredBg: PropTypes.any,\n\twidth: PropTypes.number,\n\theight: PropTypes.number,\n\tupdater: PropTypes.any,\n};\nexport default Canvas;","export default (canvas) => {\n\t// Get the device pixel ratio, falling back to 1.\n\tconst dpr = window.devicePixelRatio || 1;\n\t// Get the size of the canvas in CSS pixels.\n\tconst rect = canvas.getBoundingClientRect();\n\t// Give the canvas pixel dimensions of their CSS\n\t// size * the device pixel ratio.\n\tcanvas.width = rect.width * dpr;\n\tcanvas.height = rect.height * dpr;\n\tconst ctx = canvas.getContext('2d');\n\t// Scale all drawing operations by the dpr, so you\n\t// don't have to worry about the difference.\n\tctx.scale(dpr, dpr);\n\treturn ctx;\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './styles/description.css';\nexport default class Starter extends React.Component {\n\trender() {\n\t\tconst { width, height, startGame } = this.props;\n\t\tconst style = {\n\t\t\twidth, height,\n\t\t};\n\t\treturn <div className=\"starter\" style={style}><p className=\"header start\" onClick={() => startGame()}>Start</p></div>;\n\t}\n}\nStarter.propTypes = {\n\twidth: PropTypes.number,\n\theight: PropTypes.number,\n\tstartGame: PropTypes.func\n\n};","import React from 'react';\n\nimport './styles/description.css';\nexport default class Description extends React.Component {\n\trender() {\n\t\treturn <div className=\"description\">\n\t\t\t<h1 className=\"header\">Pong</h1>\n\t\t\t<p className=\"ctrl\">Controls:</p>\n\t\t\t<p className=\"desc\"><i className=\"fas fa-arrow-left\"></i>, A — Move left</p>\n\t\t\t<p className=\"desc\"><i className=\"fas fa-arrow-right\"></i>, D — Move right</p>\n\t\t</div>;\n\t}\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport './styles/controls.css';\n\nexport default class Controls extends React.Component {\n\trender() {\n\t\tconst { moveSwitcher, leftState, rightState } = this.props;\n\t\tconst leftClass = classNames('left', { active: leftState });\n\t\tconst rightClass = classNames('right', { active: rightState });\n\t\treturn <div className=\"controls\">\n\t\t\t<button type=\"button\" className={leftClass}\n\t\t\t\tonTouchStart={() => moveSwitcher('left', true)}\n\t\t\t\tonTouchMove={() => moveSwitcher('left', true)}\n\t\t\t\tonMouseDown={() => moveSwitcher('left', true)}\n\t\t\t\tonMouseUp={() => moveSwitcher('left', false)}\n\t\t\t\tonTouchEnd={() => moveSwitcher('left', false)}><i className=\"fas fa-arrow-left\"></i>\n\t\t\t</button>\n\t\t\t<button type=\"button\" className={rightClass}\n\t\t\t\tonTouchStart={() => moveSwitcher('right', true)}\n\t\t\t\tonTouchMove={() => moveSwitcher('right', true)}\n\t\t\t\tonMouseDown={() => moveSwitcher('right', true)}\n\t\t\t\tonMouseUp={() => moveSwitcher('right', false)}\n\t\t\t\tonTouchEnd={() => moveSwitcher('right', false)}><i className=\"fas fa-arrow-right\"></i>\n\t\t\t</button>\n\t\t</div>;\n\t}\n\n}\nControls.propTypes = {\n\tleftState: PropTypes.bool,\n\trightState: PropTypes.bool,\n\tmoveSwitcher: PropTypes.func\n};","export default class GameController {\n\tconstructor() {\n\t\tthis.difficulty = 1;\n\t\tthis.score = { user: 0, computer: 0 };\n\t\tthis.timeFrame = 0;\n\t\tthis.loosed = false;\n\t\tthis.aiReaction = 5;\n\t\tthis.aiError = 10;\n\t\tthis.since = 0;\n\t\tthis.prediction = { x: 0, y: 0 };\n\t}\n\trandom(min, max) {\n\t\treturn (min + (Math.random() * (max - min)));\n\t}\n\ttick() {\n\t\tthis.timeFrame += 1;\n\t}\n\tlose() {\n\t\tthis.score.computer += 1;\n\t\tthis.timeFrame = 0;\n\t}\n\tgoal() {\n\t\tthis.score.user += 1;\n\t\tthis.timeFrame = 0;\n\t}\n\trandomDirection() {\n\t\treturn Math.random() - 0.5 >= 0 ? 1 : -1;\n\t}\n\tpredict(ball) {\n\t\tif (this.timeFrame % this.aiError === 0) {\n\t\t\tif (ball.dy < 0) {\n\t\t\t\tconst reaction = this.random(1, this.aiReaction);\n\t\t\t\tconst x = ball.x + ball.dx * reaction;\n\t\t\t\tconst y = ball.y + ball.dy * reaction;\n\t\t\t\tif (this.prediction.x !== x && this.prediction.y !== y)\n\t\t\t\t\tthis.prediction = { x: x, y: y };\n\t\t\t}\n\t\t}\n\t}\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Background from 'bg-canvases';\nimport Dot from './objects/Dot';\nimport Ball from './objects/Ball';\nimport Wave from './objects/Wave';\nimport Paddle from './objects/Paddle';\nimport KeypressController from './controllers/KeypressController';\nimport MovementController from './controllers/MovementController';\nimport Canvas from './canvas';\nimport Starter from './starter';\nimport Description from './description';\nimport Controls from './controls';\nimport classNames from 'classnames';\nimport './styles/styles.css';\nimport GameController from './controllers/GameController';\n\nclass Pong extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.field = React.createRef();\n\t\tthis.state = {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\tmove: false,\n\t\t\tisMobile: false,\n\t\t\tisStarted: false,\n\t\t\tisLoosed: false,\n\t\t\tuserPaddle: null,\n\t\t\tcomputerPaddle: null,\n\t\t\tball: null,\n\t\t\twave: null,\n\t\t};\n\t\tthis.bg = new Background();\n\t\tthis.blurredBg = new Background(); // TODO: Fix bg-canvases\n\t\tthis.staticBg = new Background();\n\t\tthis.keyholder = new KeypressController();\n\t\tthis.game = new GameController();\n\t\tthis.tick = this.tick.bind(this);\n\t\tthis.updateFieldDimensions = this.updateFieldDimensions.bind(this);\n\t\tthis.waveActivity = Dot.waveActivity.bind(this);\n\t\tthis.pointerActivity = Dot.pointerActivity.bind(this);\n\t\tthis.ballActivity = Ball.ballActivity.bind(this);\n\t\tthis.moveUserLeft = MovementController.moveUserLeft.bind(this);\n\t\tthis.moveUserRight = MovementController.moveUserRight.bind(this);\n\t\tthis.makeUserMove = MovementController.makeUserMove.bind(this);\n\t\tthis.moveComputerLeft = MovementController.moveComputerLeft.bind(this);\n\t\tthis.moveComputerRight = MovementController.moveComputerRight.bind(this);\n\t\tthis.moveOnKeyPress = KeypressController.moveOnKeyPress.bind(this);\n\t\tthis.moveSwitcher = this.moveSwitcher.bind(this);\n\t\tthis.startGame = this.startGame.bind(this);\n\n\n\t}\n\n\tupdateDots(width, height) {\n\t\tconst blurredRadius = this.state.isMobile ? 18 : 20;\n\t\tconst dotNetCreator = (i, params) => Dot.createNet(i, 2, params);\n\t\tconst blurredDotNetCreator = (i, params) => Dot.createNet(i, blurredRadius, params);\n\t\tif (width && height) {\n\n\t\t\t// Base dot net params\n\t\t\tconst baseParams = Dot.calculateParams(2, width, height);\n\n\t\t\t// Blurred dot net params\n\t\t\tconst blurredParams = Dot.calculateParams(blurredRadius, width, height);\n\t\t\t// TODO: Fif bgcanvases: Cannot hide layer with no ctx; \n\n\t\t\t//  Base dot net\n\t\t\tthis.bg.createLayer('dots', null,\n\t\t\t\t(i) => dotNetCreator(i, baseParams), baseParams.quantity,\n\t\t\t\t(c) => this.pointerActivity(c));\n\t\t\t// Blurred dot net TODO: Fix independent background instance, bg-canvases dont'do proper layer clearing\n\t\t\tthis.blurredBg.createLayer('backDots', null,\n\t\t\t\t(i) => blurredDotNetCreator(i, blurredParams), blurredParams.quantity).applyOnEach((c) => c.setAlpha(0.08));\n\t\t\tthis.blurredBg.createLayer('blurredDots', null,\n\t\t\t\t(i) => blurredDotNetCreator(i, blurredParams), blurredParams.quantity,\n\t\t\t\t(c) => this.waveActivity(c));\n\t\t\t// Paddles layer\n\t\t\tthis.bg.createLayer('paddles', null,\n\t\t\t\t(i) => Paddle.createPaddle(i, width, height, 4, 20), 2);\n\t\t\t// Ball layer\n\n\t\t\tthis.bg.createLayer('ballLayer', null,\n\t\t\t\t() => new Ball(this.game, width, height, width / 50, 'ball'), 1, (b) => this.ballActivity(b));\n\t\t\t// Wave effect layer\n\t\t\tthis.bg.createLayer('waveLayer', null,\n\t\t\t\t() => new Wave(width / 2, height / 2, 25, width / 5, 'wave'), 1,\n\t\t\t\t(w) => Wave.animation(w));\n\n\t\t\t// Objects\n\t\t\tconst paddles = this.bg.getLayer('paddles');\n\t\t\tconst userPaddle = paddles.getFigure('user');\n\t\t\tconst computerPaddle = paddles.getFigure('computer');\n\t\t\tconst ball = this.bg.getFigure('ballLayer', 'ball');\n\t\t\tconst wave = this.bg.getFigure('waveLayer', 'wave');\n\t\t\tthis.setState({ userPaddle, computerPaddle, ball, wave });\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tsetInterval(() => this.keyholder.holdEvents(this.moveOnKeyPress), 20);\n\t\tthis.updateFieldDimensions();\n\t\tthis.updateDots();\n\t\trequestAnimationFrame(this.tick);\n\t}\n\tupdateFieldDimensions() {\n\t\tif (this.field) {\n\t\t\tconst width = this.field.current.clientWidth || 0;\n\t\t\tconst height = this.field.current.clientHeight || 0;\n\t\t\tconst isMobile = width < 425;\n\t\t\tif (width !== this.state.width || height !== this.state.height) {\n\t\t\t\tthis.updateDots(width, height);\n\t\t\t\tthis.setState({ width, height, isMobile });\n\t\t\t}\n\t\t}\n\t}\n\ttick() {\n\t\tconst { isStarted, isLoosed, computerPaddle, userPaddle } = this.state;\n\t\tthis.updateFieldDimensions();\n\t\tif (isStarted) {\n\t\t\tthis.makeUserMove();\n\t\t\tthis.bg.animate().draw();\n\t\t\tthis.blurredBg.animate().draw();\n\t\t\tthis.game.tick();\n\t\t\tcomputerPaddle.tick();\n\t\t\tuserPaddle.tick();\n\t\t\tconst status = this.game.loosed;\n\t\t\tif (isLoosed !== status)\n\t\t\t\tthis.setState({ isLoosed: status });\n\t\t}\n\t\trequestAnimationFrame(this.tick);\n\t}\n\n\tmoveSwitcher(direction, state) {\n\t\tthis.setState({ [direction]: state });\n\t}\n\n\tstartGame() {\n\t\tthis.setState({ isStarted: true });\n\t}\n\trender() {\n\t\tconst { width, height, left, right, isMobile, isStarted, isLoosed } = this.state;\n\t\tconst backgroundClass = classNames('background', {\n\t\t\tstarted: isStarted && !isLoosed,\n\t\t\tloosed: isLoosed\n\t\t});\n\t\treturn (\n\t\t\t<div className=\"pong\" tabIndex=\"0\" onKeyDown={(e) => this.keyholder.keyDown(e)}\n\t\t\t\tonKeyUp={(e) => this.keyholder.keyUp(e)}>\n\t\t\t\t<div className={backgroundClass} />\n\t\t\t\t{!isMobile && <Description />}\n\t\t\t\t<div className=\"field\" ref={this.field}>\n\t\t\t\t\t{!isStarted && <Starter width={width} height={height} startGame={this.startGame} />}\n\t\t\t\t\t<Canvas width={width}\n\t\t\t\t\t\theight={height}\n\t\t\t\t\t\tbg={this.bg}\n\t\t\t\t\t\tblurredBg={this.blurredBg}\n\t\t\t\t\t\tupdater={this.updateFieldDimensions} />\n\t\t\t\t</div>\n\t\t\t\t{isMobile && <Controls leftState={left} rightState={right} moveSwitcher={this.moveSwitcher} />}\n\t\t\t</div >\n\t\t);\n\t}\n};\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Pong />, rootElement);"],"sourceRoot":""}